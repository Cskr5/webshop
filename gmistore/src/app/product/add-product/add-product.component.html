<div class="container">
  <form name="form" [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-12 shadow border rounded my-3">
        <div class="row">
          <div class="col-12 add-product-header rounded-top">
            <h5 class="mt-4 text-white text-center mt-2">Új termék létrehozása</h5>
          </div>
        </div>
        <div class="col-12 mt-3">

          <div class="form-label-group">
            <input type="text" id="name" name="name" class="form-control" placeholder="Megnevezés" required
                   autofocus [formControlName]="'name'">
            <label for="name">Megnevezés</label>
          </div>

          <div class="form-label-group">
            <input type="text" id="productCode" name="productCode" class="form-control" placeholder="Termék azonosító"
                   required [formControlName]="'productCode'">
            <label for="productCode">Termék azonosító</label>
          </div>

          <div class="form-label-group">
            <select id="category" name="category" class="form-control" formControlName="category" required>
              <option *ngFor="let category of categories | keyvalue"
                      [value]="category.key">{{ category.value }}</option>
            </select>
            <small id="passwordHelpBlock" class="form-text text-muted">
              Kategória kiválasztása szükséges
            </small>
          </div>

          <div class="form-label-group">
          <textarea rows="5" id="description" name="description" class="form-control" placeholder="Leírás"
                    style="resize: none" [formControlName]="'description'"></textarea>
          </div>

          <div class="row">
            <div class="col-6">
              <div class="form-label-group">
                <input type="number" id="price" name="price" class="form-control mb-3" placeholder="Ár" required
                       [formControlName]="'price'">
                <label for="price">Ár</label>
              </div>
            </div>
            <div class="col-6">
              <div class="form-label-group">
                <input type="number" id="discount" name="discount" class="form-control" placeholder="Kedvezmény" min="0"
                       max="100" [formControlName]="'discount'">
                <label for="discount">Kedvezmény</label>
                <small id="discountHelper" class="form-text text-muted">
                  (%-ban szükséges)
                </small>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-6">
              <div class="form-label-group">
                <input type="number" id="warrantyMonths" name="warrantyMonths" class="form-control"
                       placeholder="Garancia (hónap)" min="0" [formControlName]="'warrantyMonths'">
                <label for="warrantyMonths">Garancia</label>
                <small id="warrantyHelper" class="form-text text-muted">
                  (hónapok)
                </small>
              </div>
            </div>
            <div class="col-6">
              <div class="form-label-group">
                <input type="number" id="quantityAvailable" name="quantityAvailable" class="form-control mb-3"
                       placeholder="Mennyiség" required [formControlName]="'quantityAvailable'">
                <label for="quantityAvailable">Mennyiség</label>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="pictureUrl"></label>
            <input style="display:none" multiple accept="image/*" formControlName="pictureUrl"
                   id="pictureUrl" type="file" (change)="onFileChange($event)" #imageInput>
            <button type="button" class="btn btn-outline-primary" (click)="imageInput.click()">Képek kiválasztása
            </button>
            <small id="pictureUrlHelper" class="form-text text-muted">
              Kép feltöltése szükséges. Maximum 1MB / kép.</small>
          </div>

          <div class="custom-control custom-checkbox my-1 mr-sm-2">
            <input type="checkbox" [formControlName]="'active'" class="custom-control-input" id="active">
            <label class="custom-control-label" for="active">Termék azonnal rendelhető?</label>
          </div>

          <div class="text-center mb-3 mt3">
            <input class="btn btn-outline-primary btn-lg" [disabled]="!selectedFiles" type="submit" routerLink="../list"
                   value="Hozzáad">
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
